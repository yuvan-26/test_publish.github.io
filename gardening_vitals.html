<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="test.css">
    <script src="test.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;700&display=swap" rel="stylesheet">
    <title>Bulblos</title>

    <!-- Include Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        /* Center the Plotly chart */
        #plotly-chart-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 40px;
        }

        #plotly-chart {
            width: 100%;
            max-width: 1000px; /* Limit chart width */
            text-align: center;
            color: #121f0c;
            font-size: 50px;
            font-family: 'Jost';
            font-weight: 500;
            word-wrap: break-word;
        }
    </style>
</head>

<body style="margin-top: 145px;">

    <!--Header-->
    <header style="width: 100%; z-index: 1000; position: fixed; top: 0;">
        <div
            style="width: 100%; height: 130px; position: relative; background: #5e7153; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center;">
            
            <!--Header logo-->
            <div style="width: 40%;">
                <a href="./index.html">
                    <image style="width: 25%;" src="./image/Logo.png">
                </a>
            </div>

            <!--Header menu-->
            <div style="width: 60%;">
                <table class="header-menu">
                    <tr>
                        <td><a href="./index.html">Home</a></td>
                        <td><a href="./about_us.html">About Us</a></td>
                        <td><a href="./plant_library.html">Plant Library</a></td>
                        <td><a href="./gardening_vitals.html">Gardening Vitals</a></td>
                        <td><a href="#">Gardening Module</a></td>
                    </tr>
                </table>
            </div>
        </div>
    </header>

    <div
        style="width: 100%; text-align: center; color: #121f0c; font-size: 50px; font-family: 'Jost'; font-weight: 500; word-wrap: break-word; margin-bottom: 40px;">
        Temperature Heatmap
    </div>

    <!-- Description -->
    <div
        style="width: 100%; text-align: center; color: #403323; font-size: 35px; font-family: 'Jost'; font-style: italic; font-weight: 400; word-wrap: break-word; margin-bottom: 50px;">
        Explore our interactive heatmap showcasing the temperature preferences of different garden crops. Each crop is
        represented by a colored square, with warmer colors indicating higher temperature requirements and cooler colors
        representing lower temperature preferences. This visual tool allows you to efficiently plan your garden layout by
        grouping crops with similar temperature needs.

    </div>

    <!-- Plotly Chart Container -->
    <div id="plotly-chart-container">
        <div id="plotly-chart"></div>
    </div>

    <!-- JavaScript for Fetching Data and Rendering Chart -->
    <script>
        // Function to fetch data from Flask API
        async function fetchData() {
            const response = await fetch('https://backendapiteam23.azurewebsites.net/heat_plot_chart');
            const data = await response.json();
            console.log(data)
            return data;
        }
        
        // Function to render Plotly chart
        async function renderChart() {
            const data = await fetchData();
            const layout = {
                title: '',
                width: '100%',
                height: 1000
            };
            var parsed = JSON.parse(data)
            Plotly.newPlot('plotly-chart', parsed, layout);
        }

        // Call renderChart function when the page loads
        window.addEventListener('load', renderChart);
    </script>

    <!-- Placeholder for plant details -->
    <div style="width: 100%; position: relative; align-items: center; margin-left: 30px;">
        <div style="position: relative; align-items: center; justify-content: center; width: 100%;">

            <div id="plantDetails">
                <!-- Placeholder for plant details -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div
            style="width: 90%; height: 350px; position: relative; background: #783E19; border-top-right-radius: 140px; overflow: hidden">

            <!--footer menu-->
            <table class="footer-menu">
                <tr>
                    <td><a href="./index.html">Home</a></td>
                    <td><a href="#">Tools</a></td>
                </tr>
                <tr>
                    <td><a href="./about_us.html">About Us</a></td>
                    <td><a href="#">AI Plant Identifier</a></td>
                </tr>
                <tr>
                    <td><a href="./plant_library.html">Plant Library</a></td>
                    <td><a href="#">Plant Doctor</a></td>
                </tr>
                <tr>
                    <td><a href="./gardening_vitals.html">Gardening Vitals</a></td>
                    <td><a href="#">Floral Arrangements</a></td>
                </tr>
                <tr>
                    <td><a href="#">Gardening Module</a></td>
                </tr>
            </table>

            <!--Footer logo-->
            <div style="display: flex; width: 100%; position: relative; margin-top: 3%;">
                <div style="position: relative; width: 50%; left:5%;">
                    <span
                        style="color: white; font-size:23px; font-family:'Jost'; font-weight: 500; word-wrap: break-word">Bulblos
                    </span>
                    <span
                        style="color: white; font-size:23px; font-family:'Jost'; font-weight: 400; word-wrap: break-word">Â©
                        Marshmallows 2024
                    </span>
                </div>
            </div>
        </div>
    </footer>

</body>

</html>
